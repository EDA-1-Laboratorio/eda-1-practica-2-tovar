#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main() {
    int matriz[5][5];
    int *ptr = &matriz[0][0];  // apuntador al primer elemento
    int max1, max2;
    int *dirMax1, *dirMax2;

    srand(time(NULL));

    // 1. Llenar la matriz con valores aleatorios
    for (int i = 0; i < 25; i++) {
        *(ptr + i) = rand() % 100;  // valores entre 0 y 99
    }

    // 2. Inicializar mÃ¡ximos
    max1 = *ptr;
    max2 = *ptr;
    dirMax1 = ptr;
    dirMax2 = ptr;

    // 3. Buscar el mayor y el segundo mayor usando apuntadores
    for (int i = 0; i < 25; i++) {
        if (*(ptr + i) > max1) {
            max2 = max1;
            dirMax2 = dirMax1;

            max1 = *(ptr + i);
            dirMax1 = ptr + i;
        } 
        else if (*(ptr + i) > max2 && *(ptr + i) != max1) {
            max2 = *(ptr + i);
            dirMax2 = ptr + i;
        }
    }

    // 4. Imprimir matriz
    printf("Matriz 5x5:\n");
    for (int i = 0; i < 25; i++) {
        printf("%3d ", *(ptr + i));
        if ((i + 1) % 5 == 0) printf("\n");
    }

    // 5. Resultados
    printf("\nMayor valor: %d\n", max1);
    printf("Direccion de memoria del mayor: %p\n", (void*)dirMax1);

    printf("\nSegundo mayor valor: %d\n", max2);
    printf("Direccion de memoria del segundo mayor: %p\n", (void*)dirMax2);

    // 6. Distancia en memoria
    printf("\nDistancia entre direcciones (en posiciones de int): %ld\n",
           dirMax1 - dirMax2);

    return 0;
}